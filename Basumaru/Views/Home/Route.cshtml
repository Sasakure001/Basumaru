@{
    ViewBag.Title = "Home";
}


@*<script type="text/javascript" src="http://www.google.com/jsapi"></script>
    <script type="text/javascript">
        google.load("jquery", "1.3.2");
    </script>*@
<script src="http://maps.google.com/maps/api/js?sensor=false&amp;region=JP" type="text/javascript"></script>
<script src="/Scripts/gmaps.js" type="text/javascript"></script>

<!-- This css is to ensure that the google map contols (zoom bar etc) show and size correctly. -->
<style>
    #map_canvas img {
        max-width: none;
    }
</style>

<!-- This css is to give a nice big popup "info window" when a marker is clicked on the map -->
<style>
    .infoDiv {
        height: 200px;
        width: 300px;
        -webkit-user-select: none;
        background-color: white;
    }
</style>

<!-- This is the div that will contain the Google Map -->
<div id="map" style="height: 600px;"></div>

<!-- Enclose the Javascript in a "section" so that it is rendered in the correct order after scripts have been loaded etc -->
@section scripts {
    <section class="scripts">
        <script type="text/javascript">

    var map;
    var geocoder;
    var directions;

    <!-- This code tells the browser to execute the "Initialize" method only when the complete document model has been loaded. -->
    $(document).ready(function () {
        Initialize();
    });

    // Where all the fun happens
    function Initialize() {
        map = new GMaps({
            div: '#map',
            lat: 37.399235,
            lng: 140.377658,
            zoom: 14
        });

        var data = [
                  { "Id": 0, "PlaceName": "郡山駅", "Roof":"有り", "Bench":"有り", "GeoLong": "37.398924", "GeoLat": "140.388131" },
                  { "Id": 1, "PlaceName": "中央大町", "Roof": "無し", "Bench":"無し", "GeoLong": "37.398167", "GeoLat": "140.384804" },
                  { "Id": 2, "PlaceName": "清水台二丁目", "Roof": "有り", "Bench":"無し", "GeoLong": "37.399557", "GeoLat": "140.383846" },
                  { "Id": 3, "PlaceName": "赤木町", "Roof": "無し", "Bench":"無し", "GeoLong": "37.401292", "GeoLat": "140.384841" },
                  { "Id": 4, "PlaceName": "大町二丁目", "Roof": "無し", "Bench":"無し", "GeoLong": "37.405232", "GeoLat": "140.383991"},
                  { "Id": 5, "PlaceName": "赤木小学校", "Roof": "無し", "Bench":"無し", "GeoLong": "37.405905", "GeoLat": "140.380334"},
                  { "Id": 6, "PlaceName": "咲田二丁目", "Roof": "無し", "Bench":"無し", "GeoLong": "37.406276", "GeoLat": "140.378312"},
                  { "Id": 7, "PlaceName": "西の内一丁目", "Roof": "無し", "Bench":"無し", "GeoLong": "37.407837", "GeoLat": "140.371381"},
                  { "Id": 8, "PlaceName": "第五中学校", "Roof": "無し", "Bench":"無し", "GeoLong": "37.408129", "GeoLat": "140.368339"},
                  { "Id": 9, "PlaceName": "太田西の内病院前", "Roof": "無し", "Bench":"無し", "GeoLong": "37.408404", "GeoLat": "140.365194"},
                  { "Id": 10, "PlaceName": "西の内二丁目", "Roof": "無し", "Bench":"無し", "GeoLong": "37.408200", "GeoLat": "140.362453"},
                  { "Id": 11, "PlaceName": "朝日三丁目", "Roof": "無し", "Bench":"無し", "GeoLong": "37.407708", "GeoLat": "140.358652"},
                  { "Id": 12, "PlaceName": "福島放送前", "Roof": "無し", "Bench":"無し", "GeoLong": "37.407411", "GeoLat": "140.356281"},
                  { "Id": 13, "PlaceName": "桑野三丁目", "Roof": "無し", "Bench":"無し", "GeoLong": "37.407027", "GeoLat": "140.353293"}
        ];

        map.addMarker({
            lat: 37.398924,
            lng: 140.388131,
            title: data[0].PlaceName,
            icon: "/Images/basu_aka.png",
            infoWindow: {
                content: "<h3>" + data[0].PlaceName + "</h3>"
            }
        });

        map.addMarker({
            lat: 37.408200,
            lng: 140.362453,
            title: data[11].PlaceName,
            icon: "/Images/basu_aka.png",
            infoWindow: {
                content: "<h3>" + data[10].PlaceName + "</h3>"
            }
        });

        for(var i=0 ; i<15 ; i++){
            map.drawRoute({
                origin: [data[i].GeoLong, data[i].GeoLat],
                destination: [data[i+1].GeoLong, data[i+1].GeoLat],
                travelMode: 'driving',
                strokeColor: '#131540',
                strokeOpacity: 0.6,
                strokeWeight: 6
            });
        };


    }

        </script>
    </section>
}


